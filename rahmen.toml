# Configuration for Rahmen

# these will be overridden if also given on the command line
# Font size of the status line
font_size = 32
# Delay between transitions
delay = 90

# Parameters to tune the information line below the image.
# The following are probably only useful when post-processing using the line_replace regex(es).

# What to insert between the metadata, default: insert nothing, which you probably do not want. We propose ", ".
separator = ", "
# Should we show duplicate strings only once (default: true)?
#uniquify = false
#Should we hide empty results (default: true)?
hide_empty = false

# Regular expression(s) to apply to the whole line, after all the individual metadata has been processed
# and joined using the separator.
line_replace = [{regex = '(?P<text>^.*), (?P<subloc>.*), (?P<loc>.*), (?P<province>Mark), , (?P<rest>.*$)', replace = '$text, $subloc ($province), $rest'},
    {regex = '(?P<text>^.*), (?P<subloc>.*), (?P<loc>.*), (?P<province>.*), (?P<country>Südkorea), (?P<rest>.*$)', replace = '$text, $loc, $province, $country, $rest'},
    {regex = '(?P<text>^.*), (?P<sublocation>.*), (?P<location>.*), (?P<province>.*), (?P<country>Morocco), (?P<rest>.*$)',replace = '$text, $sublocation, $location, $country, $rest'},
    #zap empty commas
    {regex = '^, ', replace = ','},
    {regex = '\W,+', replace = ''},
    {regex = '^[ ,]', replace = ''},
    {regex = ', , ', replace = ', '},
]

# status line metadata (in this order) as provided by the exiv2 library
[[status_line]]
exif_tags = ["Iptc.Application2.ObjectName"]

[[status_line]]
exif_tags = ["Iptc.Application2.SubLocation"]

[[status_line]]
exif_tags = ["Iptc.Application2.City"]
#replace = [{regex = 'Land', replace = 'Ld.'}]
[[status_line]]
exif_tags = ["Iptc.Application2.ProvinceState"]
replace = [{ regex = '(?i)Mecklenburg-Western\sPomerania', replace = 'MV' }, {regex = 'Brandenburg', replace = 'Mark'}]

[[status_line]]
exif_tags = ["Iptc.Application2.CountryName"]
replace = [{ regex = 'South\sKorea', replace = 'Südkorea' }, { regex = '(?i)United\sStates\sOf\sAmerica', replace = 'USA' }, { regex = 'Germany', replace = ''}]

[[status_line]]
exif_tags = ["Exif.Photo.DateTimeOriginal"]
# convert date to German format
[[status_line.replace]]
regex = '(?P<y>\d{4})[-:]0*(?P<M>\d+)[-:]0*(?P<d>\d+)\s+0*(?P<h>\d+:)0*(?P<m>\d+):(?P<s>\d{2})'
# replace = '$d.$M.$y, $h$m'
replace = '$d.$M.$y'


[[status_line]]
exif_tags = ["Xmp.dc.creator"]
# convert input from UPPER CASE to Title Case (there's also the more powerful case_conversion instruction)
#capitalize = true
# convert input from case to case (see https://github.com/rutrum/convert-case#cases)
case_conversion = {from = 'Upper', to = 'Title'}
## remove numeric strings starting with plus sign after whitespace (phone numbers) and www adresses and everything after the first word, add s/th before name
## replace = [ {regex = '(\s\+\d+)|(\b<?www.)|(\s.*$)', replace = ''}, {regex = '(?P<a>^.*$)', replace = 'von $a'} ]
# remove everything after the first word, add s/th before name
replace = [{ regex = '\s.*$', replace = '' }, { regex = '(?P<a>^.*$)', replace = 'von $a' }]


